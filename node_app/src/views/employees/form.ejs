<%- include('../partials/page-header', {
  title,
  actions: [{ label: 'Zurück zur Übersicht', href: '/employees' }]
}) %>

<%- include('../partials/errors', { errors }) %>

<form method="post" action="<%= formAction %>" class="card p-4">
  <div class="row g-3">
    <div class="col-md-6">
      <label for="name" class="form-label">Name *</label>
      <input
        type="text"
        class="form-control"
        id="name"
        name="name"
        required
        value="<%= values.name %>"
      />
    </div>
    <div class="col-md-6">
      <label for="email" class="form-label">E-Mail</label>
      <input
        type="email"
        class="form-control"
        id="email"
        name="email"
        value="<%= values.email %>"
      />
    </div>
    <div class="col-md-6">
      <label for="employment_type" class="form-label">Beschäftigungsart *</label>
      <select class="form-select" id="employment_type" name="employment_type" required>
        <option value="full_time" <%= values.employmentType === 'full_time' ? 'selected' : '' %>>Vollzeit</option>
        <option value="part_time" <%= values.employmentType === 'part_time' ? 'selected' : '' %>>Teilzeit</option>
      </select>
    </div>
    <div class="col-md-6">
      <label for="hours_per_month" class="form-label">Sollstunden/Monat</label>
      <input
        type="number"
        class="form-control"
        id="hours_per_month"
        name="hours_per_month"
        min="0"
        step="0.5"
        value="<%= values.hoursPerMonth %>"
      />
    </div>
    <div class="col-md-6">
      <label for="department_id" class="form-label">Abteilung</label>
      <select class="form-select" id="department_id" name="department_id">
        <option value="">Keine Zuordnung</option>
        <% departments.forEach(department => { %>
          <option value="<%= department.id %>" <%= values.departmentId == department.id ? 'selected' : '' %>>
            <%= department.name %>
          </option>
        <% }); %>
      </select>
    </div>
  </div>
  <div class="mt-4 d-flex justify-content-between">
    <% if (isEdit) { %>
      <a class="btn btn-outline-secondary" href="/employees">Abbrechen</a>
    <% } else { %>
      <span></span>
    <% } %>
    <button type="submit" class="btn btn-primary"><%= submitLabel %></button>
  </div>
</form>
